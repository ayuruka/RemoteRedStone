# RemoteRedstone

**RTM (RealTrainMod) のための、Web UI 付き遠隔レッドストーン信号操作プラグイン**

このプラグインは、Minecraft 1.7.10のMODである `RealTrainMod` の分岐器や信号機などを、Webブラウザ上のダッシュボードから遠隔操作することを目的としています。グループ機能によって多数のスイッチを整理し、鉄道網の管理を大幅に効率化します。


## ✨ 主な機能

*   **Webベースのダッシュボード:** PCやスマートフォンのブラウザから、サーバー内のレッドストーン信号を直感的に操作できます。
*   **チャンク非依存:** 操作対象のチャンクが読み込まれていなくても、プラグインがブロックを設置する一瞬だけチャンクを読み込むため、チャンクローダーは不要です。
*   **高度なグループ管理:**
    *   スイッチを「渋谷駅」「車両基地A」のような分かりやすいグループに整理できます。
    *   グループごとにメモを残せます。
    *   グループ内の全スイッチを一度にON/OFFする一括操作が可能です。
*   **状態の保存と可視化:**
    *   各スイッチの状態（ON/OFF）はサーバーに保存され、再起動後も維持されます。
    *   ON状態は**レッドストーンブロック**、OFF状態は**ガラスブロック**としてワールドに設置されます。
*   **簡単なワールド選択:** スイッチを追加する際、ワールド名を手入力する代わりに、サーバーに存在するワールドのリストから選択できます。

## ⚙️ 要求環境

*   **Minecraft Server:** 1.7.10
*   **サーバーソフトウェア:** **Magma**, **Mohist**, **CatServer** など、Forge MODとBukkitプラグインを同時に実行できるサーバー。
*   **Java:** Java 8 (JRE 8) 以降

## 💾 インストール方法

1.  [リリースページ](https://github.com/ayuruka/RemoteRedStone/releases) から最新版の `.jar` ファイルをダウンロードします。
2.  ダウンロードした `.jar` ファイルを、サーバーの `plugins` フォルダに移動します。
3.  一度サーバーを起動します。`plugins/RemoteRedstone` フォルダと設定ファイルが自動的に生成されます。
4.  サーバーを停止し、次の「設定」に進みます。

## 🔧 設定 (`config.yml`)

サーバーを初回起動すると `plugins/RemoteRedstone/config.yml` が生成されます。このファイルを編集して、Webサーバーが使用するポート番号を変更できます。

```yaml
# Webサーバーが使用するポート番号
web-port: 8080
```

> **[!] 重要:** `web-port` で指定したポート番号が他のアプリケーションと競合していないことを確認し、必要であればファイアウォールの設定でそのポートへのTCP通信を許可してください。

## 🎮 使い方

1.  `config.yml` の設定完了後、サーバーを起動します。
2.  同じネットワークに接続しているPCやスマホのWebブラウザを開きます。
3.  アドレスバーに `http://<マイクラサーバーのIPアドレス>:<ポート番号>` を入力します。(例: `http://192.168.1.10:8080`)
4.  ダッシュボードが表示されたら、まずはスイッチを整理するためのグループを作成します。
    *   **グループの作成:** 「Add New Group」フォームにグループ名とメモを入力し、「Create Group」ボタンを押します。
5.  作成したグループの中に、操作したいスイッチを追加します。
    *   **スイッチの追加:** グループ内の「Add Switch to Group」フォームに、スイッチ名、ワールド（ドロップダウンから選択）、座標を入力して「Add Switch」ボタンを押します。
6.  登録が完了すると、リストにスイッチが表示され、いつでも遠隔操作が可能になります。
    *   **ON/OFF:** 各スイッチのON/OFFボタンで、ブロックの状態を切り替えます。現在の状態のボタンはクリックできなくなっています。
    *   **一括操作:** グループのヘッダーにある「All ON」「All OFF」ボタンで、グループ内の全スイッチを一度に操作できます。
    *   **削除:** 「Delete」ボタンで、個別のスイッチやグループ全体（中のスイッチも含む）を削除できます。

## 🛠️ ソースからビルドする

このプロジェクトを自分でビルドするには、以下の環境が必要です。

*   Java Development Kit (JDK) 8
*   Apache Maven

**ビルド手順:**

1.  このリポジトリをクローンします。
    ```bash
    git clone https://github.com/your-username/RemoteRedstone.git
    cd RemoteRedstone
    ```
2.  プロジェクトのルートで、以下のMavenコマンドを実行します。
    ```bash
    mvn clean package
    ```
3.  ビルドが成功すると、`target/` フォルダ内にプラグインの `.jar` ファイルが生成されます。

## 📝 ライセンス

このプロジェクトは [Apache License 2.0](LICENSE) の下で公開されています。

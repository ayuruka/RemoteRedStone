# RemoteRedstone

RemoteRedstoneは、Minecraft Spigotサーバー用のプラグインで、Webブラウザを通じてゲーム内のレッドストーンブロックを遠隔操作するためのダッシュボードを提供します。

ゲーム内にいなくても、PCやスマートフォンのブラウザから簡単にスイッチのON/OFFを切り替えることができます。

## 主な機能

*   **Webダッシュボード:** 直感的なWebインターフェースからすべての操作が可能です。
*   **遠隔レッドストーン操作:** 指定した座標にレッドストーンブロック（ON）またはガラスブロック（OFF）を設置/撤去します。
*   **グループ管理:**
    *   スイッチをグループにまとめて管理できます。
    *   グループの中にサブグループを1階層作成でき、より詳細な分類が可能です。
    *   グループ単位での一括ON/OFF操作に対応しています。
*   **インゲームでの座標選択:**
    *   ゲーム内で特殊な杖（Wand）を使ってブロックをクリックするだけで、Web UIのフォームに座標が自動入力されます。
*   **名前の編集機能:**
    *   Web UIからいつでもグループ名、メモ、スイッチ名を自由に変更できます。
*   **リアルタイムUI更新:**
    *   プレイヤーがスイッチの近くにいる場合、Web UIのボタンの状態が1秒ごとに自動更新され、ゲーム内の実際のブロックの状態を反映します。
*   **検索機能:**
    *   グループ名でリアルタイムに絞り込み表示が可能です。
*   **パフォーマンス最適化:**
    *   ページの表示時にはチャンクロードを行わず、サーバーに負荷をかけません。ブロック操作時にのみ、必要に応じてチャンクをロードします。
*   **設定可能なログ出力:**
    *   ログは常にファイルに保存され、コンソールへのデバッグログ出力は`config.yml`でON/OFFを切り替えられます。

## 要件

*   **サーバー:** Spigot、またはその派生（PaperMCなど）
*   **Minecraftバージョン:** `1.7.10`
*   **Javaバージョン:** `8` (Java 1.8)

## インストール方法

1.  GitHubリポジトリの[Releasesページ](https://github.com/ayuruka/RemoteRedStone/releases)から最新の`.jar`ファイルをダウンロードします。
2.  ダウンロードした`.jar`ファイルを、お使いのサーバーの`plugins`フォルダに配置します。
3.  サーバーを起動（または再起動）します。

## 設定

初回起動後、`plugins/RemoteRedstone/config.yml`ファイルが生成されます。

```yaml
# Webサーバーが使用するポート番号
web-port: 8080

# trueに設定すると、デバッグログがサーバーコンソールに表示されます。
# ログは、この設定に関わらず常に plugins/RemoteRedstone/remoteredstone.log ファイルに保存されます。
debug-console-logging: false
```

## 使い方

#### 1. ダッシュボードへのアクセス

サーバーを起動後、Webブラウザで以下のアドレスにアクセスします。
`http://<サーバーのIPアドレス>:8080`

（ポート番号は`config.yml`で変更可能です）

#### 2. グループの作成

「Add New Top-Level Group」フォームにグループ名などを入力し、「Create Group」ボタンを押して、最上位のグループを作成します。

#### 3. スイッチの追加（推奨方法）

1.  スイッチを追加したいグループ内の「Add Switch to 'グループ名'」フォームを見つけます。
2.  「Your IGN for Wand」の欄に、あなたのMinecraftプレイヤー名を入力し、「Select Block」ボタンを押します。
3.  ゲーム内で「Remote Redstone Wand」がインベントリに追加されます。
4.  レッドストーンブロックを設置したい場所の**隣のブロック**を、その杖で右クリックします。
5.  Webダッシュボードに戻ると、クリックしたブロックの座標が自動で入力されています。
6.  スイッチの名前（例: `玄関の照明`）を入力し、「Add Switch」ボタンを押して登録完了です。

#### 4. 管理と操作

*   **サブグループの作成:** 各グループの下部にある「Add Sub-Group to 'グループ名'」フォームからサブグループを作成できます。
*   **名前の編集:** グループ名やスイッチ名の横にある「Edit」ボタンを押すと、編集フォームが表示されます。
*   **スイッチの操作:** 各スイッチの横にある「ON」「OFF」ボタンで個別に操作できます。ブロックは1秒後に設置/撤去されます。
*   **グループの一括操作:** 各グループの上部にある「All ON」「All OFF」ボタンで、そのグループ（サブグループも含む）に属するすべてのスイッチをまとめて操作できます。
*   **検索:** ページ上部の検索ボックスに文字を入力すると、グループ名で絞り込み表示ができます。

## ソースからのビルド方法

1.  このリポジトリをクローンします。
    ```sh
    git clone https://github.com/your-username/your-repository.git
    ```
2.  プロジェクトのルートディレクトリに移動し、Mavenでビルドします。
    ```sh
    cd RemoteRedstone
    mvn clean package
    ```3.  ビルドが完了すると、`target/`ディレクトリ内に`remoteredstone-x.x.x.jar`という名前のファイルが生成されます。

## ライセンス

このプロジェクトは Apache License 2.0 の下で公開されています。
